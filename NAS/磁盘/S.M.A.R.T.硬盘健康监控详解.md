# S.M.A.R.T.硬盘健康监控详解

## 1) S.M.A.R.T. 是什么

**S.M.A.R.T.**（Self-Monitoring, Analysis, and Reporting Technology）是硬盘、固态硬盘（HDD/SSD）的一种**自监测、分析与报告技术**。它通过监控硬盘的健康指标，帮助用户提前预警硬盘可能出现的故障，避免数据丢失。以下是如何理解和记住 S.M.A.R.T. 以及其重要性。

## 2) S.M.A.R.T. 监控的关键指标
硬盘/SSD 会记录一系列健康数据，以下是你最需要关注的几个重要指标：

### A. 机械硬盘（HDD）常见监控项

1. **Reallocated Sectors Count（重映射扇区数）**
   - **含义**：硬盘在出现坏道时，会把坏道数据重新写入其他正常扇区。
   - **警告信号**：**增长**意味着坏道数量增加，硬盘健康可能出问题。
   - **记住**：**这个值越高越危险，严重时硬盘无法修复**。

2. **Current Pending Sector Count（待重映射扇区数）**
   - **含义**：硬盘正在“等待”修复的坏道。
   - **警告信号**：**不为 0**时，表示数据可能无法读取，硬盘已经出现严重问题。
   - **记住**：**不能修复的坏扇区，影响硬盘性能和数据读取**。

3. **Uncorrectable Sector Count（不可校正扇区数）**
   - **含义**：硬盘无法修复的错误，无法再读取或写入的区域。
   - **警告信号**：**非零值**表明硬盘出现严重问题。
   - **记住**：**不可修复的错误必须引起警觉，通常需要备份数据并更换硬盘**。

4. **Temperature（温度）**
   - **含义**：硬盘的工作温度。
   - **警告信号**：温度过高会导致硬盘损坏。
   - **记住**：硬盘温度超过 **40°C-50°C** 时需要关注，**70°C 以上时非常危险**。

### B. 固态硬盘（SSD）常见监控项

1. **Percentage Used / Wear Leveling Count（磨损百分比）**
   - **含义**：显示 SSD 已经磨损的比例，表示 SSD 的写入寿命。
   - **警告信号**：磨损过多，**接近 100%**时，SSD 即将耗尽其耐久度。
   - **记住**：**SSD 的寿命是有限的**，需要根据写入次数进行监控。

2. **Total Host Writes（总写入量）**
   - **含义**：SSD 总共写入的数据量。
   - **警告信号**：写入量过大，接近其 **耐久性（TBW）** 极限时，SSD 即将“退役”。
   - **记住**：**SSD 的 TBW（Total Bytes Written）代表了它能承受的最大写入量**。

3. **Unsafe Shutdowns（非正常断电次数）**
   - **含义**：记录 SSD 是否曾经因为突然断电而无法正常关闭。
   - **警告信号**：频繁的突然断电可能会导致数据丢失，严重时甚至可能损坏硬盘。
   - **记住**：**尽量避免频繁断电，使用 UPS 保证断电后硬盘有足够时间关机**。

4. **Temperature（温度）**
   - **含义**：SSD 的工作温度。
   - **警告信号**：NVMe SSD 在高负载下容易发热，长期高温会影响性能和寿命。
   - **记住**：**70°C 以上的温度非常危险**，需要进行散热处理。

## 3) 如何利用 S.M.A.R.T. 监控硬盘健康
你可以通过 TOS 或其他硬盘管理工具查看 S.M.A.R.T. 状态。常见的操作步骤如下：

### 在 TOS 中查看 S.M.A.R.T.：
1. **进入 TOS → 存储管理 → 磁盘 → S.M.A.R.T.**（不同版本路径略有差异）
2. 监控 **Reallocated Sectors**、**Pending Sectors**、**Uncorrectable Sectors**、**Temperature** 等。
3. **定期查看**，如果发现以上项有异常（特别是数量增加），应立即备份数据并考虑更换硬盘。

## 4) S.M.A.R.T. 的限制和局限性
- **不是所有的故障都能被 S.M.A.R.T. 提前预警**。有时硬盘突然损坏，S.M.A.R.T. 无法提前发现。
- **S.M.A.R.T. 的值可以“恢复”**。有些硬盘在某些健康指标不佳时会自动修复，但这种修复是有限的。不断增加的重映射或不可修复扇区是硬盘真正出现问题的信号。
- **S.M.A.R.T. 监控不能替代定期备份**。即使硬盘没有报错，**数据丢失的风险依然存在**。

## 5) 实际操作建议（如何看、怎么处理）

- **正常硬盘**：
  - `Reallocated Sectors`、`Pending Sectors` 和 `Uncorrectable Sectors` 为 0
  - 温度在 40°C 以下
  - 如果你看到这些数值增加，立即备份并监控硬盘状态。

- **出现问题硬盘**：
  - 重映射扇区数大幅增长
  - 待重映射数不为 0
  - 温度过高，或者写入寿命达到临界
  - **立刻备份数据并考虑更换硬盘**

## 6) 总结：S.M.A.R.T. 是硬盘健康预警系统
- **硬盘健康管理的第一步**：S.M.A.R.T. 会实时监控硬盘的健康状态，帮助我们提前发现硬盘出现问题的苗头。
- **定期查看**：定期通过 S.M.A.R.T. 信息检测硬盘健康，尤其在 NAS / 数据存储系统 中，硬盘健康监控至关重要。
- **及时处理**：一旦看到 S.M.A.R.T. 警告（例如“待重映射”或者“温度过高”），**及时备份数据、准备更换硬盘**。

---